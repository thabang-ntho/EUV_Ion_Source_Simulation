# v0.1.2 — Phase 1.1 rollout (non‑breaking)

Date: 2025‑08‑20

Highlights
- Config: content‑hash caching over merged YAML + env keys; frozen Pydantic models (immutable); schema_version attached if missing.
- Observability: JSON logs; milestone + phase timers; RSS memory; provenance enriched (Python/OS/MPh/NumPy, COMSOL CLI version, git commit+dirty, seeds, inputs manifest). Fresnel auto‑includes Sizyuk tables.
- Runner: `--emit-milestones` adds `results/perf_summary.json` with durations: `build_dt_s/str`, and when solving, `solve_dt_s/str`.
- CLI & tooling: `euv-compare` CLI and `--compare-*` flags; CSV input/output manifests in `results/`; Make `compare` target.
- Errors: standardized exit codes (0 success; 2 config; 3 license/connect; 4 runtime). Suggested fixes shown when available.
- COMSOL (local‑only): added smokes for session start and CLI build‑only; gated by `RUN_COMSOL=1`.

Upgrade notes
- No breaking changes. Defaults and existing CLI remain unchanged unless new flags are used.
- CI remains COMSOL‑free; local COMSOL tests are opt‑in.

Quick commands
- Check‑only with milestones: `uv run python src/pp_model.py --check-only --emit-milestones`
- Build‑only (writes .mph): `uv run python src/pp_model.py --no-solve --emit-milestones --absorption-model fresnel`
- Compare results: `uv run euv-compare --baseline results/base --candidate results/cand --rtol 1e-5 --atol 1e-8 --json results/compare_report.json`
- Local COMSOL tests: `make test-comsol` (sets `RUN_COMSOL=1`)

Links
- README updated: milestones, provenance fields, COMSOL setup, compare CLI, CSV manifests, exit codes.
- CHANGELOG: includes 0.1.2 entry.
